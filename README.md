# üìò –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –Ω–∞ Lumen + PostgreSQL

–ü—Ä–æ—Å—Ç–µ–π—à–µ–µ API-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ PHP (Lumen) —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ –∞–Ω–∫–µ—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ–±—ë—Ä–Ω—É—Ç–æ–µ –≤ Docker.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone <your-repo-url>
cd social-app
```

---

### 2. –ó–∞–ø—É—Å—Ç–∏ —Å–±–æ—Ä–∫—É –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

–≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç:

- —Å–±–æ—Ä–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å PHP/Lumen
- –∑–∞–ø—É—Å–∫ PostgreSQL –∏ Nginx
- —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ø—Ä–æ–≥—Ä—É–∑–∫—É –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î (`init.sql`)

```bash
make init
```

---

### 3. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ —Å–±–æ—Ä–∫–∏)

```bash
make up
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ make-–∫–æ–º–∞–Ω–¥

| –ö–æ–º–∞–Ω–¥–∞       | –û–ø–∏—Å–∞–Ω–∏–µ                                                       |
|---------------|----------------------------------------------------------------|
| `make init`   | –°–±–æ—Ä–∫–∞, –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î                 |
| `make up`     | –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏                             |
| `make down`   | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ —Å–µ—Ç–∏                       |
| `make init-db`| –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –∏–∑ `init.sql`                      |

---

## üîå –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø –∫ API –±—É–¥–µ—Ç –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8080
```

---

## üìÆ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã API

### POST `/user/register`

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```json
{
  "first_name": "–ò–º—è",
  "second_name": "–§–∞–º–∏–ª–∏—è",
  "birthdate": "2017-02-01",
  "biography": "–•–æ–±–±–∏, –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ —Ç.–ø.",
  "city": "–ú–æ—Å–∫–≤–∞",
  "password": "secret123"
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "user_id": 1
}
```

---

### POST `/login`

–í—Ö–æ–¥ –ø–æ `user_id` –∏ `password`.

```json
{
  "id": 1,
  "password": "secret123"
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "token": "abc123..."
}
```

---

### GET `/user/get/{id}`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

```json
{
  "id": 1,
  "first_name": "–ò–º—è",
  "second_name": "–§–∞–º–∏–ª–∏—è",
  "birthdate": "2017-02-01",
  "biography": "–•–æ–±–±–∏, –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ —Ç.–ø.",
  "city": "–ú–æ—Å–∫–≤–∞"
}
```